#
# @lc app=leetcode.cn id=322 lang=python3
# @lcpr version=30201
#
# [322] Coin Change
#

# @lc code=start
class Solution:
    def coinChange1(self, coins: List[int], amount: int) -> int:
        # top down
        self.memo = {}
        return self.dp(coins, amount)
    
    def dp1(self,coins, amount):
        # base case
        if amount < 0:
            return -1
        if amount ==0:
            return 0
        # æŸ¥è¡¨
        if amount in self.memo:
            return self.memo[amount]
        
        res = float('inf')
        for coin in coins:
            # sub problem
            subProblem = self.dp(coins, amount-coin)
            if subProblem == -1:
                continue
            res = min(res, subProblem+1)
        self.memo[amount] = res if res!=float('inf') else -1
        return self.memo[amount]
    
    """
    dp æ•°ç»„ä¸­çš„å€¼éƒ½åˆå§‹åŒ–ä¸º amount + 1:
        å‡‘æˆ amount é‡‘é¢çš„ç¡¬å¸æ•°æœ€å¤šåªå¯èƒ½ç­‰äºŽ amountï¼ˆå…¨ç”¨ 1 å…ƒé¢å€¼çš„ç¡¬å¸ï¼‰ï¼Œ
        æ‰€ä»¥åˆå§‹åŒ–ä¸º amount + 1 å°±ç›¸å½“äºŽåˆå§‹åŒ–ä¸ºæ­£æ— ç©·ï¼Œä¾¿äºŽåŽç»­å–æœ€å°å€¼ã€‚
    
    ä¸ºå•¥ä¸ç›´æŽ¥åˆå§‹åŒ–ä¸º int åž‹çš„æœ€å¤§å€¼ Integer.MAX_VALUE å‘¢ï¼Ÿ
        å› ä¸ºåŽé¢æœ‰ dp[i - coin] + 1ï¼Œè¿™å°±ä¼šå¯¼è‡´æ•´åž‹æº¢å‡ºã€‚
    """

    def coinChange(self, coins: List[int], amount: int) -> int:
        # bottom up
        dp = [amount+1] * (amount+1)
        dp[0] = 0
        for i in range(1, amount+1):
            for coin in coins:
                if i < coin:
                    continue
                dp[i] = min(dp[i], dp[i-coin] + 1)
        """
        æœ‰å¯èƒ½æ ¹æœ¬åˆ°ä¸äº†ï¼š
        """
        #return dp[amount]
        return -1 if dp[amount] == amount + 1 else dp[amount]


# @lc code=end


"""
å¯¹æ¯”518é¢˜ æ±‚ç»„åˆæ–¹å¼æ€»æ•°

ðŸ” ä¸ºä»€ä¹ˆè¿™ä¸ªåªç”¨ memo[amount] å°±å¤Ÿäº†ï¼Ÿ
å› ä¸ºè¿™ä¸ªé—®é¢˜ä¸å…³å¿ƒç»„åˆæ•°ã€ä¸å…³å¿ƒè·¯å¾„ç»“æž„ï¼Œåªå…³å¿ƒï¼š
    å¯¹äºŽé‡‘é¢ amountï¼Œæœ€å°‘éœ€è¦å¤šå°‘æžšç¡¬å¸ï¼Ÿ

âœ… æ‰€ä»¥ï¼šåªè¦å½“å‰å‰©ä½™é‡‘é¢ amount ä¸€æ ·ï¼Œä¸ç®¡ä½ ä»Žå“ªä¸ªè·¯å¾„æ¥çš„ï¼Œæœ€ä¼˜è§£æ€»æ˜¯ä¸€æ ·çš„ã€‚

    æ¢å¥è¯è¯´ï¼šå­é—®é¢˜çš„ç»“æžœ dp(amount) æ˜¯å”¯ä¸€ä¸”ç¡®å®šçš„ï¼›

    æ‰€ä»¥ä½ å¯ä»¥ç”¨ä¸€ä¸ª memo[amount] æ¥å‰ªæžç¼“å­˜ã€‚

âŒ ä¸ºä»€ä¹ˆ 518 ä¸è¡Œï¼Ÿ
å› ä¸º 518 è¦æ±‚çš„æ˜¯ï¼š
    æœ‰å¤šå°‘ç§â€œç»„åˆæ–¹å¼â€å¯ä»¥ç»„æˆ amountï¼Œç¡¬å¸æ— é™ç”¨ï¼Œç»„åˆé¡ºåºä¸è®¡é‡å¤
    å¦‚æžœåªè®°å½• dp[amount]ï¼Œé‚£å°±ä¼šé‡å¤ç»Ÿè®¡ä¸€äº›è·¯å¾„

        ðŸŽ¯ ä»€ä¹ˆæ˜¯â€œé‡å¤ç»Ÿè®¡â€ï¼Ÿ
            coins = [1, 2]
            amount = 3
            æ‰€æœ‰å¯èƒ½çš„ç¡¬å¸ç»„åˆï¼ˆé¡ºåºä¸é‡è¦ï¼‰æ˜¯ï¼š
                [1,1,1]
                [1,2]
                [2,1] â† âš ï¸ è¿™å’Œ [1,2] æ˜¯åŒä¸€ç§ç»„åˆï¼Œä¸èƒ½é‡å¤è®¡æ•°ï¼

        âœ… æ€Žä¹ˆé¿å…è¿™ç§é‡å¤ï¼Ÿ
            æˆ‘ä»¬éœ€è¦â€œå›ºå®šç»„åˆçš„é€‰æ‹©é¡ºåºâ€ï¼Œæ¯”å¦‚ï¼š
                æ°¸è¿œä»Žå·¦åˆ°å³é€‰ coinsï¼ˆå³ï¼šé€‰è¿‡ coin[i] åŽåªèƒ½ç»§ç»­é€‰ coin[i] åŠä¹‹åŽçš„ï¼‰
                ç”¨ start å‚æ•°é™åˆ¶é€’å½’ä»Žå½“å‰ä½ç½®ä¹‹åŽå¼€å§‹æžšä¸¾
            è¿™æ · [2,1] å°±ä¸ä¼šè¢«é€‰å‡ºæ¥ï¼ˆå› ä¸º 1 åœ¨ 2 çš„å·¦è¾¹ï¼‰

    ä½ éœ€è¦é€šè¿‡ start å‚æ•°æŽ§åˆ¶ç»„åˆä¸èƒ½é‡å¤ï¼ˆæ¯”å¦‚ [2,1] å’Œ [1,2] ä¸èƒ½é‡å¤è®¡ï¼‰
    æ‰€ä»¥å¿…é¡»åŠ ä¸€ä¸ªå¸ç§èµ·ç‚¹ï¼šmemo[(amount, start)]
    
âœ… å†å¯¹æ¯”ä¸€ä¸‹ 322ï¼š
coins = [1, 2]
amount = 3
ä½ åªåœ¨ä¹Žå“ªä¸€ä¸ªæœ€å°‘ï¼ˆæ¯”å¦‚ 2 ä¸ªç¡¬å¸å°±èƒ½å‡‘å‡º 3
    ä¸ç®¡ [2,1] å’Œ [1,2] å“ªä¸ªå…ˆèµ°ï¼Œåªè¦å®ƒç”¨äº† 2 æžšï¼Œéƒ½æ˜¯æœ€ä¼˜ï¼›
    æ‰€ä»¥å¯¹äºŽ amount=3ï¼Œåªéœ€è¦ memo[3] = æœ€å°ç¡¬å¸æ•°ï¼Œä¸å…³å¿ƒå®ƒæ€Žä¹ˆæ¥çš„ï¼Œä¸ä¼šé‡å¤è®¡æ•°ï¼›

ðŸŽ¯ è¡¥å……ä¸€ä¸ªå°å£è¯€
    â€œæ±‚æœ€å€¼â€ç±»é—®é¢˜ â†’ çŠ¶æ€åªç”±èµ„æºé‡å†³å®šï¼ˆå¦‚ amountï¼‰
    â€œæ±‚æ–¹æ¡ˆæ•°â€ç±»é—®é¢˜ â†’ çŠ¶æ€éœ€é¢å¤–æŽ§åˆ¶è·¯å¾„åˆæ³•æ€§ï¼ˆå¦‚ startï¼‰
"""


#
# @lcpr case=start
# [1,2,5]\n11\n
# @lcpr case=end

# @lcpr case=start
# [2]\n3\n
# @lcpr case=end

# @lcpr case=start
# [1]\n0\n
# @lcpr case=end

#

